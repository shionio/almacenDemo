
CREATE SEQUENCE public.tipo_aceite_id_tipo_aceite_seq;

CREATE TABLE public.tipo_aceite (
                id_tipo_aceite VARCHAR NOT NULL DEFAULT nextval('public.tipo_aceite_id_tipo_aceite_seq'),
                tipo_aceite VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id PRIMARY KEY (id_tipo_aceite)
);


ALTER SEQUENCE public.tipo_aceite_id_tipo_aceite_seq OWNED BY public.tipo_aceite.id_tipo_aceite;

CREATE TABLE public.status (
                id_status VARCHAR(2147483647) NOT NULL,
                status VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_status PRIMARY KEY (id_status)
);


CREATE TABLE public.roles (
                id_rol VARCHAR(2147483647) NOT NULL,
                nombre_rol VARCHAR(2147483647) NOT NULL,
                descripcion_rol VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_rol PRIMARY KEY (id_rol)
);


CREATE TABLE public.usuarios (
                id_usuario VARCHAR(2147483647) NOT NULL,
                id_rol VARCHAR(2147483647) NOT NULL,
                id_acueducto VARCHAR(2147483647) NOT NULL,
                usuario VARCHAR(2147483647) NOT NULL,
                password VARCHAR(2147483647) NOT NULL,
                status VARCHAR(2147483647) NOT NULL,
                fecha_crea DATE NOT NULL,
                usuario_crea VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_usuario PRIMARY KEY (id_usuario)
);


CREATE TABLE public.marca (
                id_marca VARCHAR NOT NULL,
                marca VARCHAR NOT NULL,
                CONSTRAINT id_marca PRIMARY KEY (id_marca)
);


CREATE TABLE public.modelos (
                id_modelo VARCHAR(2147483647) NOT NULL,
                modelo VARCHAR(2147483647) NOT NULL,
                id_marca VARCHAR NOT NULL,
                CONSTRAINT id_modelo PRIMARY KEY (id_modelo)
);


CREATE TABLE public.insumos (
                id_insumo VARCHAR(2147483647) NOT NULL,
                placa_vehiculo VARCHAR(2147483647) NOT NULL,
                nombre_insumo VARCHAR(2147483647) NOT NULL,
                cantidad INTEGER NOT NULL,
                total REAL NOT NULL,
                queda_fondo REAL NOT NULL,
                CONSTRAINT id_insumo PRIMARY KEY (id_insumo)
);


CREATE TABLE public.his_vehiculo (
                id_his_vehiculo VARCHAR(2147483647) NOT NULL,
                placa_vehiculo VARCHAR(2147483647) NOT NULL,
                fecha_camb_cauchos DATE NOT NULL,
                fecha_camb_ DATE NOT NULL,
                fecha_camb_bateria DATE NOT NULL,
                fecha_entrada_taller DATE NOT NULL,
                fecha_salida_taller DATE NOT NULL,
                fecha_modificacion DATE NOT NULL,
                fecha_modificacion_vehiculo DATE NOT NULL,
                usuario_modificador VARCHAR(2147483647) NOT NULL,
                id_insumo VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_his_vehiculo PRIMARY KEY (id_his_vehiculo)
);


CREATE TABLE public.gerencia (
                id_gerencia VARCHAR(2147483647) NOT NULL,
                gerencia VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_gerencia PRIMARY KEY (id_gerencia)
);


CREATE TABLE public.acueducto (
                id_acueducto VARCHAR(2147483647) NOT NULL,
                nom_acueducto VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_acueducto PRIMARY KEY (id_acueducto)
);


CREATE TABLE public.vehiculos (
                placa_vehiculo VARCHAR NOT NULL,
                id_marca VARCHAR NOT NULL,
                id_modelo VARCHAR(2147483647) NOT NULL,
                id_status VARCHAR(2147483647) NOT NULL,
                id_acueducto VARCHAR(2147483647) NOT NULL,
                id_gerencia VARCHAR(2147483647) NOT NULL,
                serial_carroceria VARCHAR(2147483647) NOT NULL,
                ano_vehiculo INTEGER NOT NULL,
                color VARCHAR(2147483647) NOT NULL,
                kilometraje REAL NOT NULL,
                vehiculo_en_taller BIT NOT NULL,
                CONSTRAINT placa_vehiculo PRIMARY KEY (placa_vehiculo)
);


CREATE TABLE public.servicio_aceite (
                id_serv_aceite VARCHAR NOT NULL,
                kilometraje INTEGER NOT NULL,
                valvulina VARCHAR NOT NULL,
                fecha_serv_aceite DATE NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                id_tipo_aceite VARCHAR NOT NULL,
                CONSTRAINT id_serv_aceite PRIMARY KEY (id_serv_aceite)
);


CREATE TABLE public.programacion (
                id_programacion VARCHAR NOT NULL,
                fecha_programacion DATE NOT NULL,
                id_status VARCHAR NOT NULL,
                observaciones_program VARCHAR NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                CONSTRAINT id_programacion PRIMARY KEY (id_programacion)
);


CREATE SEQUENCE public.repuestos_id_repuesto_seq;

CREATE TABLE public.repuestos (
                id_repuesto VARCHAR(2147483647) DEFAULT nextval('repuestos_id_repuesto_seq'::regclass) NOT NULL DEFAULT nextval('public.repuestos_id_repuesto_seq'),
                kilometraje_repuesto INTEGER NOT NULL,
                descripcion_repuesto VARCHAR(2147483647) NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                fecha_repuesto DATE NOT NULL,
                CONSTRAINT id_repuesto PRIMARY KEY (id_repuesto)
);


ALTER SEQUENCE public.repuestos_id_repuesto_seq OWNED BY public.repuestos.id_repuesto;

CREATE SEQUENCE public.cambio_cauchos_id_caucho_seq;

CREATE TABLE public.cambio_cauchos (
                id_caucho VARCHAR(2147483647) DEFAULT nextval('cambio_cauchos_id_caucho_seq'::regclass) NOT NULL DEFAULT nextval('public.cambio_cauchos_id_caucho_seq'),
                cantidad_cauchos INTEGER NOT NULL,
                nomenclatura VARCHAR(2147483647) NOT NULL,
                fecha_cambio DATE NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                CONSTRAINT id_caucho PRIMARY KEY (id_caucho)
);


ALTER SEQUENCE public.cambio_cauchos_id_caucho_seq OWNED BY public.cambio_cauchos.id_caucho;

CREATE SEQUENCE public.reparacion_cauchos_id_rep_cacucho_seq;

CREATE TABLE public.reparacion_cauchos (
                id_rep_cacucho VARCHAR(2147483647) DEFAULT nextval('reparacion_cauchos_id_rep_cacucho_seq'::regclass) NOT NULL DEFAULT nextval('public.reparacion_cauchos_id_rep_cacucho_seq'),
                cantidad INTEGER NOT NULL,
                fecha_reparacion DATE NOT NULL,
                fecha_reparacion_caucho DATE NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                CONSTRAINT id_rep_cacucho PRIMARY KEY (id_rep_cacucho)
);


ALTER SEQUENCE public.reparacion_cauchos_id_rep_cacucho_seq OWNED BY public.reparacion_cauchos.id_rep_cacucho;

CREATE SEQUENCE public.revision_reparacion_id_revision_reparacion_seq;

CREATE TABLE public.revision_reparacion (
                id_revision_reparacion VARCHAR(2147483647) DEFAULT nextval('revision_reparacion_id_revision_reparacion_seq'::regclass) NOT NULL DEFAULT nextval('public.revision_reparacion_id_revision_reparacion_seq'),
                fecha_revision DATE NOT NULL,
                fecha_reparacion DATE NOT NULL,
                descrip_trab_realizado VARCHAR(2147483647) NOT NULL,
                estatus VARCHAR(2147483647) NOT NULL,
                observaciones VARCHAR(2147483647) NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                CONSTRAINT id_revision_reparacion PRIMARY KEY (id_revision_reparacion)
);


ALTER SEQUENCE public.revision_reparacion_id_revision_reparacion_seq OWNED BY public.revision_reparacion.id_revision_reparacion;

CREATE SEQUENCE public.solicitudes_id_solicitud_seq;

CREATE TABLE public.solicitudes (
                id_solicitud VARCHAR(2147483647) DEFAULT nextval('solicitudes_id_solicitud_seq'::regclass) NOT NULL DEFAULT nextval('public.solicitudes_id_solicitud_seq'),
                descripcion_trabajo VARCHAR(2147483647) NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                fecha_solicitud DATE NOT NULL,
                CONSTRAINT id_solicitud PRIMARY KEY (id_solicitud)
);


ALTER SEQUENCE public.solicitudes_id_solicitud_seq OWNED BY public.solicitudes.id_solicitud;

CREATE TABLE public.baterias (
                id_bateria VARCHAR(2147483647) NOT NULL,
                serial_bateria VARCHAR(2147483647) NOT NULL,
                amperaje VARCHAR(2147483647) NOT NULL,
                column_4d VARCHAR(2147483647) NOT NULL,
                fecha_cambio DATE NOT NULL,
                placa_vehiculo VARCHAR NOT NULL,
                CONSTRAINT serial_bateria PRIMARY KEY (id_bateria)
);


CREATE TABLE public.unidad_administrativa (
                id_unidad_administrativa VARCHAR(2147483647) NOT NULL,
                id_acueducto VARCHAR(2147483647) NOT NULL,
                nom_unid_admin VARCHAR(2147483647) NOT NULL,
                CONSTRAINT id_unidad_administrativa PRIMARY KEY (id_unidad_administrativa)
);


ALTER TABLE public.servicio_aceite ADD CONSTRAINT tipo_aceite_servicio_aceite_fk
FOREIGN KEY (id_tipo_aceite)
REFERENCES public.tipo_aceite (id_tipo_aceite)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.vehiculos ADD CONSTRAINT status_vehiculos_fk
FOREIGN KEY (id_status)
REFERENCES public.status (id_status)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.usuarios ADD CONSTRAINT roles_usuario_fk
FOREIGN KEY (id_rol)
REFERENCES public.roles (id_rol)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.modelos ADD CONSTRAINT id_marca
FOREIGN KEY (id_marca)
REFERENCES public.marca (id_marca)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.vehiculos ADD CONSTRAINT marca_vehiculos_fk
FOREIGN KEY (id_marca)
REFERENCES public.marca (id_marca)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.his_vehiculo ADD CONSTRAINT insumos_his_vehiculo_fk
FOREIGN KEY (id_insumo)
REFERENCES public.insumos (id_insumo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.vehiculos ADD CONSTRAINT gerencia_vehiculos_fk
FOREIGN KEY (id_gerencia)
REFERENCES public.gerencia (id_gerencia)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.unidad_administrativa ADD CONSTRAINT acueducto_unidad_administrativa_fk
FOREIGN KEY (id_acueducto)
REFERENCES public.acueducto (id_acueducto)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.vehiculos ADD CONSTRAINT acueducto_vehiculos_fk
FOREIGN KEY (id_acueducto)
REFERENCES public.acueducto (id_acueducto)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.baterias ADD CONSTRAINT vehiculos_baterias_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.solicitudes ADD CONSTRAINT vehiculos_solicitudes_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.revision_reparacion ADD CONSTRAINT vehiculos_revision_reparacion_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.reparacion_cauchos ADD CONSTRAINT vehiculos_reparacion_cauchos_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.cambio_cauchos ADD CONSTRAINT vehiculos_cambio_cauchos_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.repuestos ADD CONSTRAINT vehiculos_repuestos_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.programacion ADD CONSTRAINT vehiculos_programacion_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE public.servicio_aceite ADD CONSTRAINT vehiculos_servicio_aceite_fk
FOREIGN KEY (placa_vehiculo)
REFERENCES public.vehiculos (placa_vehiculo)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;